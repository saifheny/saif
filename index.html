<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Vocab Challenge</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50; /* Ù„ÙˆÙ† Ø¯Ø§ÙƒÙ† Ø£ÙƒØ«Ø± Ù„Ù„Ø¬Ø¯ÙŠØ© */
            --accent-color: #e67e22; /* Ù„ÙˆÙ† Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ Ù„Ù„ØªÙ…ÙŠÙŠØ² */
            --bg-color: #ecf0f1;
            --correct-color: #27ae60;
            --wrong-color: #c0392b;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--primary-color);
        }

        .container {
            background: white;
            width: 90%;
            max-width: 650px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
            overflow: hidden;
            position: relative;
        }

        .header {
            background: var(--primary-color);
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            margin: 0;
            font-size: 1.8rem;
            font-weight: 900;
        }
        
        .header p {
            margin: 5px 0 0;
            opacity: 0.8;
            font-size: 0.9rem;
        }

        .progress-bar {
            height: 8px;
            background: rgba(255,255,255,0.2);
            margin-top: 20px;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-color);
            width: 0%;
            transition: width 0.4s ease;
        }

        .quiz-body {
            padding: 40px 30px;
        }

        .question-box {
            background-color: #f8f9fa;
            border-left: 5px solid var(--accent-color);
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 5px;
        }

        .question-text {
            font-size: 1.3rem;
            line-height: 1.6;
            font-weight: bold;
            color: #34495e;
            text-align: left; /* Ø§Ù„Ø¬Ù…Ù„ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙØªÙƒÙˆÙ† ÙŠØ³Ø§Ø± */
            direction: ltr;
        }

        .blank-space {
            color: var(--accent-color);
            text-decoration: underline;
            font-weight: 900;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            direction: ltr; /* Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© */
        }

        .option-btn {
            background: white;
            border: 2px solid #bdc3c7;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            font-weight: bold;
            color: var(--primary-color);
            transition: all 0.2s;
        }

        .option-btn:hover:not(:disabled) {
            border-color: var(--primary-color);
            background-color: #f0f3f4;
            transform: translateY(-2px);
        }

        .option-btn.correct {
            background-color: var(--correct-color);
            border-color: var(--correct-color);
            color: white;
        }

        .option-btn.wrong {
            background-color: var(--wrong-color);
            border-color: var(--wrong-color);
            color: white;
        }

        .feedback-section {
            margin-top: 25px;
            padding: 20px;
            border-radius: 8px;
            display: none;
            text-align: right; /* Ø§Ù„Ø´Ø±Ø­ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ */
            direction: rtl;
            animation: slideUp 0.4s;
        }

        .feedback-section.success { background-color: #d5f5e3; color: #1e8449; }
        .feedback-section.error { background-color: #fadbd8; color: #943126; }

        .next-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2rem;
            font-family: 'Tajawal', sans-serif;
            cursor: pointer;
            margin-top: 20px;
            display: none;
        }

        .next-btn:hover { background: #34495e; }

        .result-screen {
            text-align: center;
            padding: 50px 20px;
            display: none;
        }

        .score-display {
            font-size: 4rem;
            font-weight: 900;
            color: var(--accent-color);
            margin-bottom: 10px;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 500px) {
            .options-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>Advanced Challenge</h1>
        <p>Ø§Ù…Ù„Ø£ Ø§Ù„ÙØ±Ø§Øº Ø¨Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©</p>
        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>
    </div>

    <div class="quiz-body" id="quiz-screen">
        <div class="question-box">
            <div class="question-text" id="question-text">
                Loading...
            </div>
        </div>

        <div class="options-grid" id="options-container">
            </div>

        <div class="feedback-section" id="feedback">
            <h3 id="feedback-title" style="margin: 0 0 10px 0;"></h3>
            <p id="feedback-meaning" style="font-weight: bold;"></p>
            <p id="feedback-text"></p>
        </div>

        <button class="next-btn" id="next-btn" onclick="nextQuestion()">Next Question</button>
    </div>

    <div class="result-screen" id="result-screen">
        <div class="score-display" id="final-score">0/5</div>
        <h2 id="result-title"></h2>
        <p id="result-msg" style="font-size: 1.1rem; color: #7f8c8d;"></p>
        <button class="next-btn" style="display:inline-block; width: auto; padding: 10px 40px;" onclick="restartQuiz()">Play Again</button>
    </div>
</div>

<script>
    // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©: Ø¬Ù…Ù„ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ù…Ø¬Ø±Ø¯ Ù…Ø¹Ø§Ù†ÙŠ
    const advancedDatabase = [
        { 
            word: "Serendipity", 
            sentence: "Finding my favorite book in a small shop in Tokyo was pure _______.", 
            meaning: "ØµØ¯ÙØ© Ø¬Ù…ÙŠÙ„Ø©",
            explanation: "Ù„Ø£Ù† Ø§Ù„Ø¬Ù…Ù„Ø© ØªØªØ­Ø¯Ø« Ø¹Ù† Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø´ÙŠØ¡ Ù…Ø­Ø¨ÙˆØ¨ Ø¨Ø§Ù„ØµØ¯ÙØ© ÙÙŠ Ù…ÙƒØ§Ù† ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹."
        },
        { 
            word: "Ephemeral", 
            sentence: "Fashion trends are usually _______; they don't last very long.", 
            meaning: "Ù‚ØµÙŠØ± Ø§Ù„Ø¹Ù…Ø± / Ù„Ø­Ø¸ÙŠ",
            explanation: "Ø³ÙŠØ§Ù‚ Ø§Ù„Ø¬Ù…Ù„Ø© ÙŠØªØ­Ø¯Ø« Ø¹Ù† Ø£Ø´ÙŠØ§Ø¡ Ù„Ø§ ØªØ¯ÙˆÙ… Ø·ÙˆÙŠÙ„Ø§Ù‹ (don't last long)."
        },
        { 
            word: "Luminous", 
            sentence: "The full moon was so _______ that we could see clearly at night.", 
            meaning: "Ù…Ø¶ÙŠØ¡ / Ù…Ø´Ø¹",
            explanation: "Ø§Ù„ÙƒÙ„Ù…Ø© ØªØµÙ Ø§Ù„Ù‚Ù…Ø± Ø§Ù„Ø°ÙŠ ÙŠØ³Ù…Ø­ Ø¨Ø§Ù„Ø±Ø¤ÙŠØ© ÙÙŠ Ø§Ù„Ù„ÙŠÙ„ Ø¨Ø³Ø¨Ø¨ Ø¶ÙˆØ¦Ù‡."
        },
        { 
            word: "Quintessential", 
            sentence: "He is the _______ gentleman; polite, kind, and well-dressed.", 
            meaning: "Ø¬ÙˆÙ‡Ø±ÙŠ / Ø§Ù„Ù…Ø«Ø§Ù„ Ø§Ù„Ø£Ù…Ø«Ù„",
            explanation: "Ø§Ù„Ø¬Ù…Ù„Ø© ØªØµÙ Ø´Ø®ØµØ§Ù‹ ÙŠØ¬Ù…Ø¹ ÙƒÙ„ ØµÙØ§Øª Ø§Ù„Ø±Ø¬Ù„ Ø§Ù„Ù†Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©."
        },
        { 
            word: "Euphoria", 
            sentence: "Winning the championship filled the team with a sense of _______.", 
            meaning: "Ø³Ø¹Ø§Ø¯Ø© Ø´Ø¯ÙŠØ¯Ø©",
            explanation: "Ø§Ù„ÙÙˆØ² Ø¨Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© ÙŠØ³Ø¨Ø¨ Ø´Ø¹ÙˆØ±Ø§Ù‹ ØºØ§Ù…Ø±Ø§Ù‹ Ø¨Ø§Ù„Ø³Ø¹Ø§Ø¯Ø©."
        },
        { 
            word: "Nebulous", 
            sentence: "His plans for the future are still _______; nothing is decided yet.", 
            meaning: "ØºØ§Ù…Ø¶ / ØºÙŠØ± ÙˆØ§Ø¶Ø­",
            explanation: "Ø¨Ù…Ø§ Ø£Ù† Ù„Ø§ Ø´ÙŠØ¡ Ù…Ù‚Ø±Ø± (nothing is decided)ØŒ ÙØ§Ù„Ø®Ø·Ø· ØºØ§Ù…Ø¶Ø©."
        },
        { 
            word: "Ineffable", 
            sentence: "The beauty of the sunset was _______; words could not describe it.", 
            meaning: "Ù„Ø§ ÙŠÙˆØµÙ Ø¨Ø§Ù„ÙƒÙ„Ø§Ù…",
            explanation: "Ø§Ù„Ø¬Ù…Ù„Ø© ØªÙ‚ÙˆÙ„ ØµØ±Ø§Ø­Ø© Ø£Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù‡Ø§ ÙˆØµÙÙ‡."
        },
        { 
            word: "Ethereal", 
            sentence: "The dancer moved with an _______ grace, looking almost like an angel.", 
            meaning: "Ø±Ù‚ÙŠÙ‚ Ø¬Ø¯Ø§Ù‹ / Ø³Ù…Ø§ÙˆÙŠ",
            explanation: "ÙˆØµÙ Ø§Ù„Ø­Ø±ÙƒØ© Ø¨Ø£Ù†Ù‡Ø§ ØªØ´Ø¨Ù‡ Ø§Ù„Ù…Ù„Ø§Ø¦ÙƒØ© (angel) ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ø© ÙˆØ§Ù„Ø³Ù…Ø§ÙˆÙŠØ©."
        },
        { 
            word: "Solitude", 
            sentence: "He went to the mountains to enjoy the peace and _______.", 
            meaning: "Ø¹Ø²Ù„Ø© Ù‡Ø§Ø¯Ø¦Ø©",
            explanation: "Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ø¬Ø¨Ø§Ù„ Ø¨Ø­Ø«Ø§Ù‹ Ø¹Ù† Ø§Ù„Ø³Ù„Ø§Ù… (peace) ÙŠØ±ØªØ¨Ø· Ø¨Ø§Ù„Ø¹Ø²Ù„Ø© Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ©."
        },
        { 
            word: "Resilient", 
            sentence: "Children are often very _______; they bounce back quickly from illness.", 
            meaning: "Ù…Ø±Ù† / ÙŠØªØ®Ø·Ù‰ Ø§Ù„ØµØ¹Ø§Ø¨",
            explanation: "Ø¹Ø¨Ø§Ø±Ø© (bounce back) Ù‡ÙŠ Ø§Ù„Ù…ÙØªØ§Ø­ ÙˆØªØ¹Ù†ÙŠ Ø§Ù„ØªØ¹Ø§ÙÙŠ Ø¨Ø³Ø±Ø¹Ø©."
        },
        { 
            word: "Melancholy", 
            sentence: "The rainy weather put him in a state of quiet _______.", 
            meaning: "ÙƒØ¢Ø¨Ø© Ø®ÙÙŠÙØ© / Ø´Ø¬Ù†",
            explanation: "Ø§Ù„Ø¬Ùˆ Ø§Ù„Ù…Ù…Ø·Ø± ÙˆØ§Ù„Ù‡Ø§Ø¯Ø¦ ØºØ§Ù„Ø¨Ø§Ù‹ ÙŠØ±ØªØ¨Ø· Ø¨Ø§Ù„Ø´Ø¹ÙˆØ± Ø¨Ø§Ù„Ø­Ø²Ù† Ø§Ù„Ø®ÙÙŠÙ."
        },
        { 
            word: "Ambiguous", 
            sentence: "The ending of the movie was _______; no one knew what really happened.", 
            meaning: "ØºØ§Ù…Ø¶ / Ù…Ù„ØªØ¨Ø³",
            explanation: "Ø¹Ø¯Ù… Ù…Ø¹Ø±ÙØ© Ù…Ø§ Ø­Ø¯Ø« ÙŠØ¹Ù†ÙŠ Ø£Ù† Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØªØ­ØªÙ…Ù„ Ø£ÙƒØ«Ø± Ù…Ù† ØªÙØ³ÙŠØ±."
        },
        { 
            word: "Vigilant", 
            sentence: "Security guards must remain _______ at all times to prevent theft.", 
            meaning: "ÙŠÙ‚Ø¸ / Ù…Ù†ØªØ¨Ù‡",
            explanation: "Ø§Ù„Ø­Ø±Ø§Ø³Ø© ÙˆÙ…Ù†Ø¹ Ø§Ù„Ø³Ø±Ù‚Ø© ÙŠØªØ·Ù„Ø¨Ø§Ù† Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø§Ù„Ø¯Ø§Ø¦Ù…."
        },
        { 
            word: "Elusive", 
            sentence: "The solution to this math problem remains _______ to me.", 
            meaning: "ØµØ¹Ø¨ Ø§Ù„ÙÙ‡Ù… Ø£Ùˆ Ø§Ù„Ø¥Ù…Ø³Ø§Ùƒ Ø¨Ù‡",
            explanation: "Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ø§Ù„Ø­Ù„ ØµØ¹Ø¨ Ø§Ù„Ù…Ù†Ø§Ù„ Ø£Ùˆ Ø§Ù„ÙÙ‡Ù…."
        },
        { 
            word: "Meticulous", 
            sentence: "She is very _______ about her work; she checks every detail twice.", 
            meaning: "Ø´Ø¯ÙŠØ¯ Ø§Ù„Ø¯Ù‚Ø©",
            explanation: "ÙØ­Øµ ÙƒÙ„ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù…Ø±ØªÙŠÙ† ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ù‚Ø© Ø§Ù„Ø´Ø¯ÙŠØ¯Ø©."
        }
    ];

    let currentQuestions = [];
    let currentQuestionIndex = 0;
    let score = 0;

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function startQuiz() {
        let shuffledDb = shuffleArray([...advancedDatabase]);
        currentQuestions = shuffledDb.slice(0, 5);
        currentQuestionIndex = 0;
        score = 0;
        
        document.getElementById('quiz-screen').style.display = 'block';
        document.getElementById('result-screen').style.display = 'none';
        
        loadQuestion();
    }

    function loadQuestion() {
        const data = currentQuestions[currentQuestionIndex];
        
        // Progress Bar
        document.getElementById('progress').style.width = `${(currentQuestionIndex / 5) * 100}%`;

        // Set Question (Replace underscore with styled blank)
        const formattedSentence = data.sentence.replace('_______', '<span class="blank-space">_______</span>');
        document.getElementById('question-text').innerHTML = formattedSentence;
        
        // Reset UI
        document.getElementById('feedback').style.display = 'none';
        document.getElementById('next-btn').style.display = 'none';
        
        // Prepare Options (English Words)
        let options = [data.word];
        let distractors = advancedDatabase
            .filter(item => item.word !== data.word)
            .map(item => item.word);
        
        shuffleArray(distractors);
        options.push(...distractors.slice(0, 3));
        shuffleArray(options);

        const container = document.getElementById('options-container');
        container.innerHTML = '';
        
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(btn, opt, data);
            container.appendChild(btn);
        });
    }

    function checkAnswer(btn, selected, data) {
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(b => b.disabled = true);

        const feedback = document.getElementById('feedback');
        const title = document.getElementById('feedback-title');
        const meaning = document.getElementById('feedback-meaning');
        const text = document.getElementById('feedback-text');

        if (selected === data.word) {
            btn.classList.add('correct');
            score++;
            feedback.className = 'feedback-section success';
            title.innerText = "Excellent! âœ…";
        } else {
            btn.classList.add('wrong');
            buttons.forEach(b => {
                if (b.innerText === data.word) b.classList.add('correct');
            });
            feedback.className = 'feedback-section error';
            title.innerText = "Wrong! âŒ";
        }

        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ÙƒÙ„Ù…Ø© ÙÙŠ Ø§Ù„ÙØ±Ø§Øº
        const filledSentence = data.sentence.replace('_______', `<span style="color:${selected === data.word ? '#27ae60' : '#c0392b'}">${data.word}</span>`);
        document.getElementById('question-text').innerHTML = filledSentence;

        meaning.innerText = `Ø§Ù„Ù…Ø¹Ù†Ù‰: ${data.meaning}`;
        text.innerText = data.explanation;
        
        feedback.style.display = 'block';
        document.getElementById('next-btn').style.display = 'block';
    }

    function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < 5) loadQuestion();
        else showResults();
    }

    function showResults() {
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('progress').style.width = '100%';
        
        document.getElementById('final-score').innerText = `${score}/5`;
        
        const title = document.getElementById('result-title');
        const msg = document.getElementById('result-msg');
        
        if (score === 5) {
            title.innerText = "Master of Words! ğŸ‘‘";
            msg.innerText = "Ø£Ø¯Ø§Ø¡ Ø£Ø³Ø·ÙˆØ±ÙŠ! Ø£Ù†Øª ØªÙÙ‡Ù… Ø³ÙŠØ§Ù‚ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø¨Ø¯Ù‚Ø©.";
        } else if (score >= 3) {
            title.innerText = "Great Job! ğŸŒŸ";
            msg.innerText = "Ù…Ø³ØªÙˆÙ‰ Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹ØŒ Ù„ÙƒÙ† Ø§Ù†ØªØ¨Ù‡ Ù„Ù„ÙØ±ÙˆÙ‚Ø§Øª Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©.";
        } else {
            title.innerText = "Keep Practicing ğŸ“š";
            msg.innerText = "Ø§Ù„Ø³ÙŠØ§Ù‚ Ù‡Ùˆ Ø§Ù„Ù…ÙØªØ§Ø­ØŒ Ø­Ø§ÙˆÙ„ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¬Ù…Ù„ Ø¨ØªØ±ÙƒÙŠØ² Ø£ÙƒØ¨Ø±.";
        }
    }

    function restartQuiz() {
        startQuiz();
    }

    startQuiz();
</script>

</body>
</html>
